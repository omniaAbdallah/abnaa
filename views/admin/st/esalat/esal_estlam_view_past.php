<style type="text/css">

    input, select {
        font-weight: 600 !important;
        /* color: #003665 !important;*/
        color: #002c52 !important;
        font-size: 16px !important;
    }

    .top-label {
        font-size: 13px;
        background-color: #428bca !important;
        border: 2px solid #428bca !important;
        text-shadow: none !important;
        font-weight: 500 !important;
    }

    .myspan {
        color: rgb(255, 0, 0);
        font-size: 12px;
        position: absolute;
        bottom: -16px;
        right: 20px;
    }

    .no-padding {
        padding-left: 0px !important;
        padding-right: 0px !important;
    }

    .print_forma {
        padding: 15px;
    }

    .piece-box {
        margin-bottom: 12px;
        border: 1px solid #73b300;
        display: inline-block;
        width: 100%;
    }

    .piece-heading {
        background-color: #9bbb59;
        display: inline-block;
        float: right;
        width: 100%;
    }

    .piece-body {
        width: 100%;
        float: right;
    }

    .bordered-bottom {
        border-bottom: 4px solid #9bbb59;
    }

    .piece-footer {
        display: inline-block;
        float: right;
        width: 100%;
        border-top: 1px solid #73b300;
    }

    .piece-heading h5 {
        margin: 4px 0;
    }

    .piece-box table {
        margin-bottom: 0
    }

    .piece-box table th,
    .piece-box table td {
        padding: 2px 8px !important;
    }

    h6 {
        font-size: 16px;
        margin-bottom: 3px;
        margin-top: 3px;
    }

    .print_forma table th {
        text-align: right;
    }

    .print_forma table tr th {
        vertical-align: middle;
    }

    .no-padding {
        padding: 0;
    }

    .header p {
        margin: 0;
    }

    .header img {
        height: 120px;
        width: 100%
    }

    .main-title {
        display: table;
        text-align: center;
        position: relative;
        height: 120px;
        width: 100%;
    }

    .main-title h4 {
        display: table-cell;
        vertical-align: bottom;
        text-align: center;
        width: 100%;
    }

    .print_forma hr {
        border-top: 1px solid #73b300;
        margin-top: 7px;
        margin-bottom: 7px;
    }

    .no-border {
        border: 0 !important;
    }

    .gray_background {
        background-color: #eee;
    }

    @media print {
        .footer {
            position: fixed;
            bottom: 0;
            width: 100%;
        }
    }

    .footer img {
        width: 100%;
        height: 120px;
    }

    @page {
        size: A4;
        margin: 20px 0 0;
    }

    .open_green {
        background-color: #e6eed5;
    }

    .closed_green {
        background-color: #cdddac;

    }

    .table-bordered > thead > tr > th,
    .table-bordered > tbody > tr > th,
    .table-bordered > tfoot > tr > th,
    .table-bordered > thead > tr > td,
    .table-bordered > tbody > tr > td,
    .table-bordered > tfoot > tr > td {
        border: 1px solid #abc572;

    }

    /***/

    .ft.table > thead > tr > th,
    .ft.table > tbody > tr > th,
    .ft.table > tfoot > tr > th,
    .ft.table > thead > tr > td,
    .ft.table > tbody > tr > td,
    .ft.table > tfoot > tr > td {
        padding: 3px 1px;
        font-size: 12px;
    }


    .btn-close-model,
    btn-close-model:hover,
    btn-close-model:focus {
        background-color: #8a9e5f;
        color: #fff;
        margin-top: -20px;
    }


    .my_style {

        color: #222;
        font-size: 15px;
        font-weight: 500;

    }

    .one_three {
        width: 43% !important;
        float: right;
    }

    .two_three {
        width: 57% !important;
        float: right;
    }

    /**************************************************/
    @media (min-width: 992px) {
        .col_md_10 {
            width: 10%;
            float: right;
        }

        .col_md_15 {
            width: 15%;
            float: right;
        }

        .col_md_20 {
            width: 20%;
            float: right;
        }

        .col_md_25 {
            width: 25%;
            float: right;
        }

        .col_md_30 {
            width: 30%;
            float: right;
        }

        .col_md_35 {
            width: 35%;
            float: right;
        }

        .col_md_40 {
            width: 40%;
            float: right;
        }

        .col_md_45 {
            width: 45%;
            float: right;
        }

        .col_md_50 {
            width: 50%;
            float: right;
        }

        .col_md_55 {
            width: 55%;
            float: right;
        }

        .col_md_60 {
            width: 60%;
            float: right;
        }

        .col_md_70 {
            width: 70%;
            float: right;
        }

        .col_md_75 {
            width: 75%;
            float: right;
        }

        .col_md_80 {
            width: 80%;
            float: right;
        }

        .col_md_85 {
            width: 85%;
            float: right;
        }

        .col_md_90 {
            width: 90%;
            float: right;
        }

        .col_md_95 {
            width: 95%;
            float: right;
        }

        .col_md_100 {
            width: 100%;
            float: right;
        }

    }

    .label_title_2 {
        /*  width: 100%;
    color: white;
    background-color: #428bca;
    border: 2px solid #428bca;
    height: 34px;
    margin: 0;
    line-height: 34px;
    padding-right: 6px;
    font-size: 14px;
    margin-bottom: 5px;*/

        width: 100%;
        color: white;
        background-color: #006a39;
        border: 2px solid #006a39;
        border-radius: 6px;
        height: 34px;
        margin: 0;
        line-height: 28px;
        padding-right: 6px;
        font-size: 16px;
        margin-bottom: 5px;
    }

    .input_style_2 {
        border-radius: 0px;
        border-right: transparent;
        width: 100%;
    }

    .label-blue {
        background-color: #278e3b;
        border: 1px solid #278e3b;
        height: 34px;
        line-height: 32px !important;
        font-size: 15px !important;
        font-weight: 500 !important;
        text-align: right !important;
    }

    /************************************************************/
    .bond-header {
        height: 55px;
        margin-bottom: 15px;
    }

    .bond-header .right-img img,
    .bond-header .left-img img {
        width: 100%;
        height: 55px;
    }

    .border-box {
        padding: 5px 20px;
        /*	border: 4px double #999;*/
        border: 5px double #000 !important;
        border-radius: 29px;
        font-size: 14px !important;
        color: #002c57 !important;
        font-weight: bold !important;
    }

    .border-box-h {
        padding: 3px 20px;
        border: 2px solid #222;
        border-radius: 24px;
    }

    .main-bond-title {
        display: table;
        height: 55px;
        text-align: center;
        width: 100%;
        /* margin-top: 15px !important;*/
    }

    .main-bond-title h3 {
        display: table-cell;
        vertical-align: bottom;
        font-size: 12px;
    }

    .bond-body {
        padding: 80px 20px 0 1px;
        display: inline-block;
        width: 100%;
        border-radius: 30px;
        background: url(<?php echo base_url(); ?>/asisst/admin_asset/img/esals/recieve_esal.jpg);
        background-position: center;
        background-size: 100% 100%;
        background-repeat: no-repeat;
        height: 450px;
    }

    .bond-body h6 {
        font-size: 11px !important;
        color: #002c57 !important;
        font-weight: bold !important;
        line-height: 21px;
    }

    .bond-body h6 span {
        color: darkred;
    }

    .pad-2 {
        padding-left: 2px;
        padding-right: 2px;
    }

    .bond-footer h6 {
        font-size: 13px !important;
        color: #002c57 !important;
        font-weight: bold !important;
        line-height: 17px;
    }


    #cheq, #eda3, #shabka, #mosatadem {

        padding-top: 5px !important;

        padding-bottom: 5px !important;

    }


    .table_style {
        font-size: 11px !important;
        color: darkred !important;
        font-weight: bold !important;
        line-height: 17px !important;
        margin: 1px;

    }

    button[type=submit] {
        padding: 0px 12px;
    }

    .btn-label {

        right: -14px;
    }

    .list::-webkit-calendar-picker-indicator {
        display: none;
    }

    /************************************************************/
</style>
<style type="text/css">

    .modal-confirm {
        color: #434e65;
        width: 525px;
    }

    .modal-confirm .modal-content {
        padding: 20px;
        font-size: 16px;
        border-radius: 5px;
        border: none;
    }

    .modal-confirm .modal-header {
        background: #47c9a2;
        border-bottom: none;
        position: relative;
        text-align: center;
        margin: -20px -20px 0;
        border-radius: 5px 5px 0 0;
        padding: 35px;
    }

    .modal-confirm h4 {
        text-align: center;
        font-size: 36px;
        margin: 10px 0;
    }

    .modal-confirm .form-control, .modal-confirm .btn {
        min-height: 40px;
        border-radius: 3px;
    }

    .modal-confirm .close {
        position: absolute;
        top: 15px;
        right: 15px;
        color: #fff;
        text-shadow: none;
        opacity: 0.5;
    }

    .modal-confirm .close:hover {
        opacity: 0.8;
    }

    .modal-confirm .icon-box {
        color: #fff;
        width: 95px;
        height: 95px;
        display: inline-block;
        border-radius: 50%;
        z-index: 9;
        border: 5px solid #fff;
        padding: 15px;
        text-align: center;
    }

    .modal-confirm .icon-box i {
        font-size: 64px;
        margin: -4px 0 0 -4px;
    }

    .modal-confirm.modal-dialog {
        margin-top: 80px;
    }

    .modal-confirm .btn {
        /* color: #fff;*/
        border-radius: 4px;
        /* background: #eeb711;*/
        text-decoration: none;
        transition: all 0.4s;
        line-height: normal;
        border-radius: 30px;
        margin-top: 10px;
        padding: 6px 20px;
        border: none;
    }

    .modal-confirm .btn:hover, .modal-confirm .btn:focus {
        background: #eda645;
        outline: none;
    }

    /*.modal-confirm .btn span {
        margin: 1px 3px 0;
        float: left;
    }
    .modal-confirm .btn i {
        margin-left: 1px;
        font-size: 20px;
        float: right;
    }*/
    /*.trigger-btn {
        display: inline-block;
        margin: 100px auto;
    }*/


    #circle_counter {
        /*  float: right;
     width: 75px;
    border: 2px solid;
    line-height: 11px;
    padding: 4px 0;
    border-radius: 5px;
    background-color: #5b69bc;
    color: white;*/
        float: right;
        /* width: 125px;*/
        border: 2px solid;
        line-height: 28px;
        padding: 4px 7px;
        border-radius: 5px;
        background-color: #5b69bc;
        color: white;


    }

    #circle_counter .counter {
        /*font-size: 13px;
    color: #ffca00;
    font-weight: bold;*/
        font-size: 16px;
        color: #ffcf19;
        float: left;


    }


   
    .circle-ico {
        position: relative;
    }

    .circle-ico i {
        position: absolute;
        top: 17%;
        font-size: 35px;
        right: 36%;
    }

    .circle-chart__percent {
        display: none;
    }

    .circle-ico .counter {
        font-size: 20px;
    }
</style>

<?php if (!empty($result)) {
    //echo'<pre>'; var_dump($result);echo'</pre>';die;
    $id = $result->id;
    $esal_num = $result->esal_num;
    $esal_date = $result->esal_date;
    $esal_type = $result->esal_type;
    $place_supply = $result->place_supply;
    $pay_method = $result->pay_method;
    $fe2a_id_fk = $result->fe2a_id_fk;
    $value = $result->value;
    $about = $result->about;
    $laqab = $result->laqab;
    $person_type = $result->person_type;
    $person_type = $result->person_type;
//    9-4-om
    $person_name = $result->person_name;
    $person_mob = $result->person_mob;


//    if ($person_type == 1) {
//        $person_name = $result->MemberDetails['k_name'];
//        $person_mob = $result->MemberDetails['k_mob'];
//
//    } elseif ($person_type == 2) {
//        $person_name = $result->MemberDetails['d_name'];
//        $person_mob = $result->MemberDetails['d_mob'];
//    } elseif ($person_type == 3) {
//        $person_name = $result->MemberDetails['name'];
//        $person_mob = $result->MemberDetails['mob'];
//    } elseif ($person_type == 0) {
//        $person_name = $result->person_name;
//        $person_mob = $result->person_mob;
//    }


    $tahia = $result->tahia;
    $erad_type = $result->erad_type;
    $fe2a_type1 = $result->fe2a_type1;
    $bnd_type1 = $result->bnd_type1;
    $marg3_num = $result->marg3_num;
    $marg3_date = $result->marg3_date;
    $bank_id_fk = $result->bank_id_fk;
    $bank_account_id_fk = $result->bank_account_id_fk;
    $bank_account_num = $result->bank_account_num;
    $bank_account_code = $result->bank_account_code;
    $cheq_num = $result->cheq_num;
    $cheq_date = $result->cheq_date;
    $branch_id_fk = $result->branch_id_fk;
    $device_num = $result->device_num;
    $tafwed_num = $result->tafwed_num;
    $process_date = $result->process_date;
    $morfaq = $result->morfaq;

    $moshro3_fk = $result->moshro3_fk;

} else {
    $id = "";
    $esal_num = $last_id;
    $esal_date = date('Y-m-d');
    $esal_type = "";
    $place_supply = "";
    $pay_method = "";
    $fe2a_id_fk = "";
    $value = "";
    $about = "";
    $laqab = "";
    $person_type = "";
    $person_name = "";
    $person_type = "";
    $person_mob = "";
    $tahia = "";
    $erad_type = "";
    $fe2a_type1 = "";
    $bnd_type1 = "";
    $marg3_num = "";
    $marg3_date = date('Y-m-d');
    $bank_id_fk = "";
    $bank_account_id_fk = "";
    $bank_account_num = "";
    $bank_account_code = "";
    $cheq_num = "";
    $cheq_date = date('Y-m-d');
    $branch_id_fk = "";
    $device_num = "";
    $tafwed_num = "";
    $process_date = date('Y-m-d');
    $moshro3_fk = '';
    $morfaq = '';
} ?>
<div class="col-sm-12 no-padding ">

    <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable ">
        <div class="panel-heading">
            <h3 class="panel-title"><?php echo $title; ?></h3>
            <div class="pull-left">

            </div>
        </div>
        <div class="panel-body" >
            
                <div class="statusMsg"></div>
                <?php echo form_open_multipart('st/esalat/Esalat_estlam/addesal/' . $id, array('id' => 'MyForm')) ?>
                <div class="col-md-1"></div>
                <div class="col-md-10">
                <div style="height: 440px;overflow-y: scroll;">
                <!-- -------------- First row --------------------- -->
                <div class="col-md-12 no-padding">
                    <div class="col-md-2 col-sm-6 padding-7">

                            <label class="label ">رقم الإيصال </label>
                    
                            <input type="text" style="font-size: 16px!important; font-weight: 600 !important;"
                                <?php /*if(empty($last_id)){*/ ?> data-validation=""
                                <?php /*}else{*/
                                echo 'readonly'; /*} */ ?> name="esal_numS" id="esal_num"
                                   value="<?php $esal_num; ?>" onkeyup="$('#esal_num_span').html($(this).val())"
                                   class="form-control   "
                                   data-validation-has-keyup-event="true">

                            <input type="hidden" name="esal_num" value="<?php echo $esal_num; ?>"/>
                       

                    </div>

                    <div class=" col-md-3 col-sm-6  padding-7">
                            <label class="label ">تاريخ الإيصال </label>
                        
                            <input style="font-size: 16px!important; font-weight: 600 !important;" type="date"
                                   name="esal_date" data-validation="required"
                                   id="day_date" value="<?= $esal_date ?>"
                                   pattern="(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])/(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])/(?:30))|(?:(?:0[13578]|1[02])-31))"
                                   onchange="GetDate2($(this).val());"
                                   class="form-control  "
                                   data-validation-has-keyup-event="true">
                      

                    </div>


                    <div class=" col-md-4  col-sm-6  padding-7">

                      
                            <label class="label ">نوع الإيصال </label>
                  
                            <select id="esal_type" name="esal_type" class="form-control  inputclass"
                                    onchange="GEtF2a(this.value,'tabro3');
$('#tawred_type_span').html($('#esal_type option:selected').text());" data-validation="required" aria-required="true">
                                <option value="">إختر</option>
                                <?php if (!empty($esal_typeee)) {
                                    foreach ($esal_typeee as $row) { ?>

                                        <option value="<?= $row->from_id ?>"

                                            <?php if (!empty($esal_typeee)) {
                                                if ($esal_type == $row->from_id) {
                                                    echo 'selected';
                                                }
                                            } ?>

                                        ><?= $row->title ?></option>
                                    <?php }
                                } ?>
                            </select>
                       
                    </div>
                
                    <div class=" col-md-3 col-sm-6 padding-7 ">

                            <label class="label">مركز التحصيل</label>
                      
                            <select id="place_supply" name="place_supply" class="form-control  inputclass"
                                    onchange="$('#place_supply_span').html($('#place_supply option:selected').text());"
                                    data-validation="required" aria-required="true">
                                <option value="">إختر</option>
                                <?php if (!empty($gathering_place)) {

                                    foreach ($gathering_place as $row) {
                                        $select = '';
                                        if (!empty($gathering_emp_id) && isset($gathering_emp_id)) {
                                            if ($gathering_emp_id == $row->id_setting) {
                                                $select = 'selected';
                                            }
                                        }
                                        if (!empty($place_supply)) {
                                            if ($place_supply == $row->id_setting) {
                                                $select = 'selected';
                                            }
                                        }
                                        ?>

                                        <option value="<?= $row->id_setting ?>" <?= $select ?> ><?= $row->title_setting ?></option>
                                    <?php }
                                } ?>
                            </select>



                    </div>

                    <div class=" col-md-3 col-sm-6  padding-7">

                            <label class="label ">طريقة التوريد</label>
                       

                            <select id="pay_method" name="pay_method" class="form-control  inputclass"
                                    onchange="GetPayType($(this).val());
    $('#pay_method_span').html($('#pay_method option:selected').text());"
                                    data-validation="required" aria-required="true">
                                <?php
                                $pay_method_arr = array(1 => ' عيني ');

                                if (isset($pay_method_arr) && !empty($pay_method_arr)) {
                                    for ($a = 1; $a <= sizeof($pay_method_arr); $a++) {
                                        ?>
                                        <option value="<?php echo $a; ?>"

                                            <?php if (!empty($pay_method)) {
                                                if ($pay_method == $a) {
                                                    echo 'selected';
                                                }
                                            } ?>
                                        > <?php echo $pay_method_arr[$a]; ?></option>
                                        <?php
                                    }
                                }
                                ?>
                            </select>


                      

                    </div>


                    <div class=" col-md-4 col-sm-6  padding-7">

                            <label class="label">الفئة</label>
                            <!--selectpicker -->
                            <select name="fe2a_id_fk" data-validation="required"
                                    class=" choose-date  form-control  inputclass"
                                    data-show-subtext="true" data-live-search="true" aria-required="true">
                                <option value="">اختر</option>
                                <?php if (!empty($fe2a_types)) {
                                    foreach ($fe2a_types as $row) { ?>
                                        <option value="<?php echo $row->id; ?>"

                                            <?php if (!empty($fe2a_id_fk)) {
                                                if ($fe2a_id_fk == $row->id) {
                                                    echo 'selected';
                                                }
                                            } elseif ($row->id == 1) {
                                                echo 'selected';
                                            } ?>
                                        ><?php echo $row->title; ?></option>
                                    <?php }
                                } ?>
                            </select>


                       

                    </div>
                    
                     <div class="col-md-5 col-sm-6  padding-7">

                            <label class="label">نوع التبرع </label>


                            <select class="form-control inputclass" id="erad_tbro3" name="erad_type"
                                    onchange="GEtF2a(this.value,'fe2a');
                                    var html = '<option>إختر </option>';
                          $('#fe2a').val('');$('#fe2a_type2').val(''); $('#band').html(html);
                                 $('#bnd_type2').html(html);
                                 " data-validation="required" aria-required="true">
                                <option value=""> إختر</option>
                                <?php if (!empty($erad_tbro3_arr)) {
                                    foreach ($erad_tbro3_arr as $row) { ?>
                                        <option value="<?= $row->from_id ?>"
                                            <?php if (!empty($erad_type)) {
                                                if ($erad_type == $row->from_id) {
                                                    echo 'selected';
                                                }
                                            } ?>

                                        > <?= $row->title ?>  </option>
                                    <?php }
                                } ?>
                            </select>


                    </div>
                    


               

                    <div class="col-md-3 col-sm-6  padding-7">

                            <label class="label">المبلغ </label>
                      

                            <input style="font-weight: 600 !important;" type="text" step="any" name="value_total"
                                   id="value"
                                   data-validation="required"
                                   onchange="CheckValue()"
                                   class="form-control  inputclass" onkeyup="GetArabicNum($(this).val());"
                                   value="<?= $value ?>" data-validation-has-keyup-event="true"">


                        

                    </div>


                    <div class="col-md-9 col-sm-6  padding-7">

                            <label class="label ">فقط </label>
                  
                            <input type="text" step="any" readonly
                                   class="form-control  arabic_number "
                                   data-validation-has-keyup-event="true" value="<?php if (!empty($ArabicNum)) {
                                echo $ArabicNum;
                            } ?>">


                    </div>




                    <div class="col-md-2 col-sm-6  padding-7">

                            <label class="label"> اللقب </label>

                            <select id="laqab" name="laqab" class="form-control  "
                                    aria-required="true" onchange="GetTitle(this.value)">
                                <option value=""> إختر</option>
                                <?php if (!empty($titles)) {
                                    foreach ($titles as $title) { ?>
                                        <option value="<?= $title->id_setting ?>-<?= $title->title_setting ?>"
                                            <?php if (!empty($laqab)) {
                                                if ($laqab == $title->id_setting) {
                                                    echo 'selected';
                                                }
                                            } ?>

                                        > <?= $title->title_setting ?> </option>
                                    <?php }
                                } ?>
                            </select>

                    </div>


                    <div class="col-md-6 col-sm-6  padding-7">

                            <label class="label">الإسم </label>
                        
                            <!--list="pepople_arr"-->
                            <input autocomplete="off" style="width:85%; float: right;" type="text" name="person_name"
                                   id="person_name" class="form-control input_style_2 list inputclass"
                                   value="<?= $person_name ?>" data-validation-has-keyup-event="true"
                                   onkeyup="$('#person_span').html($(this).val())"/>
                            <input type="hidden" name="person_id_fk" id="member_id"
                                   value="<?php if (!empty($result->MemberDetails['id'])) {
                                       echo $result->MemberDetails['id'];
                                   } ?>">
                            <input type="hidden" name="person_type" id="person_type" value="<?= $person_type ?>">
                            <button type="button" data-toggle="modal" data-target="#myModalInfo"
                                    class="btn btn-success btn-next" style="float: right;">
                                <i class="fa fa-plus"></i></button>
                            <datalist id="pepople_arr">
                                <?php if (!empty($people_arr)){
                                foreach ($people_arr

                                as $row){ ?>
                                <option value="<?= $row->person_name ?>">
                                    <?php }
                                    } ?>
                            </datalist>
                       

                    </div>


                    <div class="col-md-2 col-sm-6  padding-7">

                            <label class="label">الجوال </label>

                            <input type="text" step="any" name="person_mob" id="person_mob"
                                   value="<?= $person_mob ?>" class="form-control   "
                                   data-validation-has-keyup-event="true"">

                    </div>


                    <div class="col-md-2 col-sm-6  padding-7">

                            <label class="label"> التحية </label>
                        
                            <select id="tahia" name="tahia" class="form-control  "
                                    onchange="GetGreetings(this.value)"> >
                                <option value=""> إختر</option>
                                <?php if (!empty($greetings)) {
                                    foreach ($greetings as $greeting) { ?>
                                        <option value="<?= $greeting->id_setting ?>-<?= $greeting->title_setting ?>"

                                            <?php if (!empty($tahia)) {
                                                if ($tahia == $greeting->id_setting) {
                                                    echo 'selected';
                                                }
                                            } ?>

                                        > <?= $greeting->title_setting ?> </option>
                                    <?php }
                                } ?>

                            </select>

            
                    </div>


                   


                    <div class="col-md-4 col-sm-6  padding-7">

                            <label class="label ">الفئة </label>


                            <select class="form-control inputclass  " id="fe2a" name="fe2a_type[]"
                                    onchange="GEtF2a(this.value,'band')" data-validation="required"
                                    aria-required="true">
                                <option value="">إختر</option>
                                <?php if (!empty($fe2a_type_arr)) {
                                    foreach ($fe2a_type_arr as $row) { ?>
                                        <option value="<?= $row->from_id ?>"
                                            <?php if (!empty($fe2a_type1)) {
                                                if ($fe2a_type1 == $row->from_id) {
                                                    echo 'selected';
                                                }
                                            } ?>

                                        > <?= $row->title ?>  </option>
                                    <?php }
                                } ?>
                            </select>


                    </div>


                    <div class="col-md-5 col-sm-6  padding-7">

                            <label class="label ">البند </label>
                        

                            <select id="band" name="bnd_type[]" class="form-control inputclass  "
                                    onchange="  $('#band_tbro3_td').html($('#band option:selected').text());
                                    if($('.band1_value').length ===1){$('#value1').val($('#value').val())} 
                                     "
                                    data-validation="required" aria-required="true">
                                <option value="">إختر</option>
                                <?php if (!empty($bnd_type_arr)) {
                                    foreach ($bnd_type_arr as $row) { ?>
                                        <option value="<?= $row->code ?>"
                                            <?php if (!empty($bnd_type1)) {
                                                if ($bnd_type1 == $row->code) {
                                                    echo 'selected';
                                                }
                                            } ?>
                                        > <?= $row->title ?>  </option>
                                    <?php }
                                } ?>
                            </select>
                      </div>
                      <!-- <div class="col-md-2   no-padding" id="first_value">
                        <?php if (!empty($result->value2)) { ?>

                            <input style="font-weight: 600 !important;    margin-top: 26px;" type="text" step="any"
                                   data-validation="required" name="value[]" value="<?= $result->value1 ?>"
                                   class="form-control   inputclass value band1_value"
                                   onkeyup="CheckValue(this)">
                        <?php } ?>

                    </div>-->
                        <div class="col-md-2   no-padding" id="first_value">

            <?php if (!empty($result->value2)) {

                $value_input = $result->value1;
            } else {
                $value_input = '';
            } ?>

            <input style="font-weight: 600 !important;margin-top: 26px;" type="text" step="any"
                   data-validation="required" name="value[]" id="value1" value="<?= $value_input ?>"
                   class="form-control   inputclass value band1_value"
                   onkeyup="CheckValue(this)" style="    margin-top: 26px;">


        </div>
                      <div class="col-md-1 col-sm-6  no-padding" >
                      <div style="margin-top: 26px;">
                        <button type="button" id="myId"
                                data-click-state=" <?php if (isset($result->fe2a_type4) && ($result->fe2a_type4 > 0)) {
                                    echo 4;
                                } else if (isset($result->fe2a_type3) && ($result->fe2a_type3 > 0)) {
                                    echo 3;
                                } else if (isset($result->fe2a_type2) && ($result->fe2a_type2 > 0)) {
                                    echo 2;
                                } else {
                                    echo 1;
                                } ?>"
                                class="btn btn-success btn-next" style="float: right;"
                                onclick="GetValues(); $('#myId_munis').attr('data-click-state',$(this).attr('data-click-state')); ">
                            <i id="plus_button" class="fa fa-plus"></i>
                        </button>
                        <button type="button" id="myId_munis"
                                data-click-state=" <?php if (isset($result->fe2a_type4) && ($result->fe2a_type4 > 0)) {
                                    echo 4;
                                } else if (isset($result->fe2a_type3) && ($result->fe2a_type3 > 0)) {
                                    echo 3;
                                } else if (isset($result->fe2a_type2) && ($result->fe2a_type2 > 0)) {
                                    echo 2;
                                } else {
                                    echo 1;
                                } ?>"
                                class="btn btn-success btn-next" style="float: right;"
                                onclick="minus_div();"><i id="plus_button" class="fa fa-minus"></i>
                        </button>
                        </div>


                    </div>

                   

                </div>

                <div class="col-md-12 no-padding" id="ValuesDiv2">

                    <?php if (!empty($result->fe2a_type2) && !empty($result->bnd_type2)) { ?>

                        <div class="col-md-4 col-sm-6  padding-7">
                           
                                <label class="label ">الفئة </h6></label>
                           
                                <select data-validation="required" onchange="GetBandType2(this.value,'2')"
                                        class="form-control inputclass input_style_2" id="fe2a_type2" name="fe2a_type[]"
                                        aria-required="true">
                                    <option value="">إختر</option>
                                    <?php if (!empty($fe2a_type_arr2)) {
                                        foreach ($fe2a_type_arr2 as $row) { ?>
                                            <option value="<?= $row->from_id ?>"
                                                <?php if (!empty($result->fe2a_type2)) {
                                                    if ($result->fe2a_type2 == $row->from_id) {
                                                        echo 'selected';
                                                    }
                                                } ?>

                                            > <?= $row->title ?>  </option>
                                        <?php }
                                    } ?>
                                </select>
                        </div>


                        <div class="col-md-4 col-sm-6  padding-7">
                            
                                <label class="label "> البند</label>
                      
                                <select data-validation="required" class="form-control inputclass "
                                        onchange="
                         $('#band_tbro3_td2').html($('#bnd_type2 option:selected').text());     "
                                        id="bnd_type2" name="bnd_type[]" aria-required="true">
                                    <option value="">إختر</option>
                                    <?php if (!empty($bnd_type_arr2)) {
                                        foreach ($bnd_type_arr2 as $row) { ?>
                                            <option value="<?= $row->code ?>"
                                                <?php if (!empty($result->bnd_type2)) {
                                                    if ($result->bnd_type2 == $row->code) {
                                                        echo 'selected';
                                                    }
                                                } ?>

                                            > <?= $row->title ?>  </option>
                                        <?php }
                                    } ?>
                                </select>
                        </div>


                        <div class="col-md-1   no-padding"><input style="font-weight: 600 !important;"
                                                                  data-validation="required" type="text" step="any"
                                                                  name="value[]" id="value2" class="form-control
                     value band2_value inputclass" value="<?= $result->value2 ?>"
                                                                  onkeyup="CheckValue(this)">
                        </div>

                    <?php } ?>
                </div>

                <div class="col-md-12 no-padding" id="ValuesDiv3">

                    <?php if (!empty($result->fe2a_type3) && !empty($result->bnd_type3)) { ?>
                        <div class="col-md-4 col-sm-6  padding-7">
                          
                                <label class="label ">الفئة </label>
                                <select data-validation="required" onchange="GetBandType2(this.value,'3')"
                                        class="form-control inputclass " id="fe2a_type3" name="fe2a_type[]"
                                        aria-required="true">
                                    <option value="">إختر</option>
                                    <?php if (!empty($fe2a_type_arr2)) {
                                        foreach ($fe2a_type_arr2 as $row) { ?>
                                            <option value="<?= $row->from_id ?>"
                                                <?php if (!empty($result->fe2a_type3)) {
                                                    if ($result->fe2a_type3 == $row->from_id) {
                                                        echo 'selected';
                                                    }
                                                } ?>

                                            > <?= $row->title ?>  </option>
                                        <?php }
                                    } ?>
                                </select>
                        </div>


                        <div class="col-md-4 col-sm-6  padding-7">
                            
                                <label class="label "> البند</label>
                                <select data-validation="required" class="form-control inputclass  "
                                        onchange="
                         $('#band_tbro3_td2').html($('#bnd_type2 option:selected').text());     "
                                        id="bnd_type3" name="bnd_type[]" aria-required="true">
                                    <option value="">إختر</option>
                                    <?php if (!empty($bnd_type_arr3)) {
                                        foreach ($bnd_type_arr3 as $row) { ?>
                                            <option value="<?= $row->code ?>"
                                                <?php if (!empty($result->bnd_type3)) {
                                                    if ($result->bnd_type3 == $row->code) {
                                                        echo 'selected';
                                                    }
                                                } ?>

                                            > <?= $row->title ?>  </option>
                                        <?php }
                                    } ?>
                                </select>
                        </div>


                        <div class="col-md-1   no-padding"><input style="font-weight: 600 !important;"
                                                                  data-validation="required" type="text" step="any"
                                                                  name="value[]" id="value2" class="form-control
                     value band2_value inputclass" value="<?= $result->value3 ?>"
                                                                  onkeyup="CheckValue(this)">
                        </div>

                    <?php } ?>
                </div>

                <div class="col-md-12 no-padding" id="ValuesDiv4">

                    <?php if (!empty($result->fe2a_type4) && !empty($result->bnd_type4)) { ?>

                        <div class="col-md-4 col-sm-6  padding-7">
                            
                                <label class="label ">الفئة </label>
                                <select data-validation="required" onchange="GetBandType2(this.value,'4')"
                                        class="form-control   inputclass" id="fe2a_type4" name="fe2a_type[]"
                                        aria-required="true">
                                    <option value="">إختر</option>
                                    <?php if (!empty($fe2a_type_arr2)) {
                                        foreach ($fe2a_type_arr2 as $row) { ?>
                                            <option value="<?= $row->from_id ?>"
                                                <?php if (!empty($result->fe2a_type4)) {
                                                    if ($result->fe2a_type4 == $row->from_id) {
                                                        echo 'selected';
                                                    }
                                                } ?>

                                            > <?= $row->title ?>  </option>
                                        <?php }
                                    } ?>
                                </select>
                        </div>


                        <div class="col-md-4 col-sm-6  padding-7">
                            
                                <label class="label "> البند</label>
                                <select data-validation="required" class="form-control   inputclass "
                                        onchange="
                         $('#band_tbro3_td2').html($('#bnd_type2 option:selected').text());     "
                                        id="bnd_type4" name="bnd_type[]" aria-required="true">
                                    <option value="">إختر</option>
                                    <?php if (!empty($bnd_type_arr4)) {
                                        foreach ($bnd_type_arr4 as $row) { ?>
                                            <option value="<?= $row->code ?>"
                                                <?php if (!empty($result->bnd_type4)) {
                                                    if ($result->bnd_type4 == $row->code) {
                                                        echo 'selected';
                                                    }
                                                } ?>

                                            > <?= $row->title ?>  </option>
                                        <?php }
                                    } ?>
                                </select>
                        </div>


                        <div class="col-md-1   no-padding"><input style="font-weight: 600 !important;"
                                                                  data-validation="required" type="text" step="any"
                                                                  name="value[]" id="value2" class="form-control
                     value band2_value inputclass" value="<?= $result->value4 ?>"
                                                                  onkeyup="CheckValue(this)">
                        </div>

                    <?php } ?>
                </div>


                <div class="col-md-12 no-padding ">
                   

                        <div class="col-md-5 col-sm-6   padding-7 ">
                            <label class="label ">عبارة عن </label>
                        

                            <input type="text" name="about"
                                   class="form-control  " onkeyup="$('.about_td').html($(this).val())"
                                   data-validation-has-keyup-event="true" value="<?= $about ?>">
                        </div>

                        <div class="col-md-4 col-sm-6   padding-7 ">
                            <label class="label ">المشروعات </label>
                        

                            <select type="text" name="moshro3_fk"
                                    class="form-control  " data-validation-has-keyup-event="true">

                                <option>إختر</option>
                                <?php if (isset($projects) && (!empty($projects))) {
                                    foreach ($projects as $project) {
                                        ?>
                                        <option value="<?= $project->id ?>"
                                            <?php if ($moshro3_fk == $project->id) echo 'selected' ?> ><?= $project->project_name ?></option>
                                        <?php
                                    }
                                } ?>
                            </select>
                        </div>

              
                  
                        <div class="col-md-3 col-sm-6   padding-7 ">
                            <label class="label "> اضافة مرفق </label>
                       

                            <input type="file" name="morfaq"
                                   class="form-control input_style_2 "
                                   data-validation-has-keyup-event="true">

                        </div>
                        <div class="col-sm-5 padding-7">
                            <?php
                            if (!empty($morfaq)) {
                                $type = pathinfo($morfaq)['extension'];
//                            echo($type);
                                $arry_images = array('gif', 'Gif', 'ico', 'ICO', 'jpg', 'JPG', 'jpeg', 'JPEG', 'BNG', 'png', 'PNG', 'bmp', 'BMP', 'WMV', 'wmv');
                                $arr_doc = array('DOC', ' DOCX', 'HTML  ', 'HTM', 'ODT', 'pdf', 'XLS ', ' XLSX', 'ODS', 'PPT  ', 'PPTX', 'TXT');
                                if (in_array($type, $arry_images)) {
                                    ?>
                                    <img data-toggle="modal"
                                         data-target="#modal-img"
                                         onclick="$('#my_image').attr('src',$(this).attr('src'));"
                                         id="magles_image" class="media-object center-block"
                                         src="<?php if (!empty($morfaq)) {
                                             echo base_url() . 'uploads/st/esalat_estlam/' . $morfaq;
                                         } else {
                                             echo base_url('asisst/fav/apple-icon-120x120.png');
                                         } ?>"
                                         style="width: 100px;height: auto;"/>
                                    <?php
                                } elseif (in_array($type, $arr_doc)) {
                                    ?>
                                    <iframe src="https://docs.google.com/gview?url=<?= base_url() . 'uploads/st/esalat_estlam/' . $morfaq ?>&embedded=true"
                                            frameborder="0" width="100%"></iframe>
                                    <div class="col-sm-12">
                                        <a target="_blank"
                                           href="https://docs.google.com/gview?url=<?= base_url() . 'uploads/st/esalat_estlam/' . $morfaq ?>&embedded=true"><i
                                                    class="col-sm-2 fa fa-eye btn btn-label"></i></a>
                                        <div class="col-sm-8"></div>
                                        <a href="<?php echo base_url() . 'st/esalat/Esalat_estlam/read_file/' . $morfaq ?>">
                                            <i class="col-sm-2 fa fa-download btn btn-label"></i></a>
                                    </div>
                                    <?php
                                }
                            }
                            ?>


                        </div>
                
                </div>
                
                
                
                </div>
                <!---------------- Second row ----------------------->
                <div class="modal fade" id="myModalInfo" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document" style="width: 80%">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                            aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="myModalLabel">تفاصيل الفئة</h4>
                            </div>
                            <div class="modal-body">
                                <?php
                               // $k_type_arr = array('1' => 'كافل', '2' => 'متبرع', '3' => 'اعضاء الجمعية العمومية');
                                 $k_type_arr = array('1' => 'كافل', '2' => 'متبرع', '3' => 'اعضاء الجمعية العمومية','4' =>'الجهات');
                                if (isset($k_type_arr) && !empty($k_type_arr)) {
                                    foreach ($k_type_arr as $key => $value) { ?>
                                    <div class="radio-content">
                                        <input type="radio" name="fe2a" style="margin-right: 15px" id="square-<?= $key ?>"
                                               onclick="GetDiv('myDiv',<?= $key ?>)" value="<?= $key ?>"

                                            <?php if (!empty($$key)) {
                                                if ($$key == 1) {
                                                    ?> checked <?php }
                                            } ?>>
                                        <label class="radio-label" for="square-<?= $key ?>"><?= $value ?></label>
                                      </div>  
                                        <?php
                                    }
                                }
                                ?>
                                <div id="myDiv"></div>
              
<!------------------------------------------------------>              
		   
					         <div  id="geha_show" style="display: none;">
                                    <div class="col-sm-12 form-group">
                                        <div class="col-sm-12 form-group">
                                            <div class="col-sm-3  col-md-3  ">

                                                <button type="button" class="btn btn-labeled btn-success " onclick="$('#geha_input').show(); show_add()"
                                                        style="border-top-left-radius: 14px;border-bottom-right-radius: 14px;">
                                                    <span class="btn-label"><i class="glyphicon glyphicon-plus"></i></span>إضافة جهة
                                                </button>

                                            </div>
                                        </div>
                                        <div class="col-sm-12 no-padding form-group">

                                            <div id="geha_input" style="display: none">

                                                <div class="col-sm-3  col-md-5 padding-2 ">
                                                    <label class="label label-green  ">إسم الجهة </label>
                                                    <input type="text" onfocus="$('.geha_title').hide();" name="name" id="geha_title"
                                                           value=""
                                                           class="form-control input-style">
                                                    <input type="hidden" class="form-control" id="s_id" value="">
                                                    <span class="geha_title" style="color: red; display: none;">هذا الحقل مطلوب</span>
                                                </div>



                                                <div class="col-sm-3  col-md-2  ">
                                                    <label class="label label-green  ">رقم الجوال </label>
                                                    <input type="text" name="mob" id="mob"
                                                           value=""
                                                           onkeypress="validate_number(this.value)"
                                                           class="form-control input-style">
                                                </div>
                                                <div class="col-sm-3  col-md-4  ">
                                                    <label class="label label-green  ">العنوان </label>
                                                    <input type="text" name="address" id="address"
                                                           value=""
                                                           class="form-control input-style">
                                                </div>


                                                <div class="col-sm-3  col-md-1 no-padding" id="div_add" style="display: block;">
                                                    <button type="button" onclick="add_geha($('#geha_title').val())" style="    margin-top: 27px;"
                                                            class="btn btn-labeled btn-success" name="save" value="save">
                                                        <span class="btn-label"><i class="glyphicon glyphicon-floppy-disk"></i></span>حفظ
                                                    </button>
                                                </div>
                                                <div class="col-sm-3  col-md-2 " id="div_update" style="display: none;">
                                                    <button type="button"
                                                            style="margin-top: 27px;"
                                                            class="btn btn-labeled btn-success " name="save" value="save" id="update">
                                                        <span class="btn-label"><i class="glyphicon glyphicon-floppy-disk"></i></span>حفظ
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <br>
                                        <br>
                                    </div>

                                    <div id="myDiv_geha"><br><br>
                                        <?php if (!empty($gehat)) { ?>
                                            <table id="" class=" example table table-bordered table-striped" role="table">
                                                <thead>
                                                <tr class="greentd">
                                                    <th width="2%">#</th>
                                                    <th class="text-center">الجهة</th>
                                                    <th class="text-center">رقم الجوال</th>
                                                    <th class="text-center">العنوان</th>
                                                    <th class="text-center">الإجراء</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <?php
                                                $x = 1;
                                                foreach ($gehat as $value) {
                                                    ?>
                                                    <tr>

                                                        <td><input type="radio" name="radio" data-name="<?= $value->name ?>" data-mob="<?= $value->mob ?>" data-type="5"  data-id="<?= $value->id ?>"  style="width: 20px;height: 20px;"
                                                                   id="member<?= $value->id ?>" ondblclick="GetMemberName(<?= $value->id ?>)"></td>
                                                        <td><?= $value->name ?></td>
                                                        <td><?= $value->mob ?></td>
                                                        <td><?= $value->address ?></td>
                                                        <td>


                                                            <a href="#" onclick="delte_geha(<?= $value->id?>);"> <i class="fa fa-trash"> </i></a>
                                                            <a href="#" onclick="update_geha(<?= $value->id?>);"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>


                                                        </td>
                                                    </tr>
                                                    <?php
                                                }
                                                ?>
                                                </tbody>
                                            </table>


                                        <?php }  ?>



                                    </div>
                                </div>


              
<!------------------------------------------------->
              
                            </div>
                            
                            
                            
                            
                            
                            <div class="modal-footer" style="display: inline-block;width: 100%">
                                <button type="button" class="btn btn-danger"
                                        style="float: left;" data-dismiss="modal">إغلاق
                                </button>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="col-md-12 " id="AttachTableDiv"></div>
                <div class="col-xs-12 text-center" style="margin-top: 15px;">
                    <!-- GetRedirectPage(); <a href="#myRedirectModal" class="trigger-btn" data-toggle="modal">Click to Open Success Modal</a>-->

                    <button type="button"
                            onclick="GetRedirectPage()"
                            class="btn btn-labeled btn-success " name="save" value="save">
                        <span class="btn-label"><i class="glyphicon glyphicon-floppy-disk"></i></span>حفظ
                    </button>

                    <button type="button" class="btn btn-labeled btn-danger ">
                        <span class="btn-label"><i class="glyphicon glyphicon-trash"></i></span>حذف
                    </button>

                    <button type="button" class="btn btn-labeled btn-purple ">
                        <span class="btn-label"><i class="glyphicon glyphicon-print"></i></span>طباعة
                    </button>
                    <!-- <button type="button" class="btn btn-labeled btn-inverse " id="attach_button"
                            onclick="checkInputs()" data-toggle="modal">
                        <span class="btn-label"><i class="glyphicon glyphicon-cloud-upload"></i></span>
                        <?php if (empty($result->attaches)) {
                        echo 'اضافة مرفق';
                    } else {
                        echo 'عرض المرفقات ';
                    } ?>

                    </button>-->

                    <button type="button" class="btn btn-labeled btn-inverse " id="attach_button"
                            data-target="#myModal_search" data-toggle="modal">
                        <span class="btn-label"><i class="fa fa-search-plus"></i></span>بحث
                    </button>

                </div>

                <div id="myRedirectModal" class="modal fade">
                    <div class="modal-dialog modal-confirm">
                        <div class="modal-content" id="RedirectDiv">

                        </div>
                    </div>
                </div>

                <?php echo form_close() ?>
           
              </div>
              <div class="col-md-1"></div>
     
        </div>


    </div>


</div>

<!------------------------------------------------------------------->
<div class="col-sm-12 no-padding ">

    <div class="panel panel-bd lobidisable lobipanel lobipanel-sortable ">
        <div class="panel-heading no-margin" style="margin-bottom: 0;">
            <h3 class="panel-title"></h3>

        </div>
        <div class="panel-body">

           


                <div class="col-xs-12 no-padding" id="counter_section">
                  
                        <ul class="nav nav-tabs">
                            <li class="active"><a href="#tab1" data-toggle="tab">الإيصالات الغير مرحلة</a></li>
                            <li><a href="#tab2" data-toggle="tab">الإيصالات المرحلة</a></li>
                            
                           <!-- <li><div id="circle_counter" style="background: green;">
                            <div class=" counter" data-count="<?php echo round($all_money_today['total_tabr3'], 2); ?>">
                                0
                            </div>
                            <span> عيني </span>&nbsp;&nbsp;
                            </div></li>-->
                        </ul>
            

                        <?php


                        ?>

                        



                    <div class="col-xs-12 no-padding">
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="tab1">
                                <div class="panel-body">
                                    <?php if (!empty($all_esals_today)) { ?>
                                        <table id="example"
                                               class=" display table table-bordered  table-striped  responsive nowrap"
                                               cellspacing="0" width="100%">

                                            <thead>
                                            <tr class="greentd">
                                                <th style="text-align: center !important;">م</th>
                                                <th style="text-align: center !important;">رقم الإيصال</th>
                                                <th style="text-align: center !important;">التاريخ</th>
                                                <th style="text-align: center !important;">نوع الإيصال</th>
                                                <th style="text-align: center !important;">طريقة التوريد</th>
                                                <th style="text-align: center !important;">المبلغ</th>
                                                <th style="text-align: center !important;">الإسم</th>
                                                <th style="text-align: center !important;">البند</th>
                                                <!--  <th style="text-align: center !important;">صورة المرفق </th> -->
                                               <!-- <th style="text-align: center !important;">التفاصيل</th>-->
                                                <th style="text-align: center !important;">الإجراء</th>
                                                <th style="text-align: center !important;">المحصل</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <?php
                                            $x = 0;
                                            foreach ($all_esals_today as $row) {
                                                $x++;

//                                                if ($row->person_type == 1) {
//                                                    $name = $row->MemberDetails['k_name'];
//                                                } elseif ($row->person_type == 2) {
//                                                    $name = $row->MemberDetails['d_name'];
//                                                } elseif ($row->person_type == 3) {
//                                                    $name = $row->MemberDetails['name'];
//                                                } elseif ($row->person_type == 0) {
//                                                    $name = $row->person_name;
//                                                }
                                                ?>
                                                <tr>
                                                    <td><?= $x ?></td>
                                                    <td><?= $row->esal_num ?></td>
                                                    <td><?= $row->esal_date ?></td>
                                                    <td><?= $row->esal_type_title ?></td>
                                                    <td><?php if (!empty($pay_method_arr[$row->pay_method])) {
                                                            echo $pay_method_arr[$row->pay_method];
                                                        } ?></td>
                                                    <td><?= $row->value ?></td>
                                                    <td><?= $row->person_name ?></td>
                                                    <td><?= $row->band_title ?></td>

                                                    <td>
                                                        <a type="button" class="btn btn-info btn-xs"
                                                                data-toggle="modal" style="padding: 1px 5px;"
                                                                onclick="GetTable(<?php echo $row->id; ?>)"
                                                                data-target="#myModal"><i class="fa fa-list"></i>
                                                        </a>
                                                    
                                                        <a href='<?php echo base_url() . 'st/esalat/Esalat_estlam/Printesal/' . $row->id ?>'
                                                           target='_blank'><i class='fa fa-print' aria -
                                                                              hidden='true'></i></a>


                                                        <a href="<?php echo base_url(); ?>st/esalat/Esalat_estlam/addesal/<?php echo $row->id; ?>">
                                                            <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                        </a>

                                                        <a onclick="$('#adele').attr('href', '<?= base_url() . "st/esalat/Esalat_estlam/Deleteesal/" . $row->esal_num ?>');"
                                                           data-toggle="modal" data-target="#modal-delete"
                                                           title="حذف"> <i class="fa fa-trash"
                                                                           aria-hidden="true"></i> </a>
                                                        <a title="عرض المرفق" href="#" data-toggle="modal" data-target="#myModal_attach"> <i class="fa fa-cloud-upload" aria-hidden="true"></i> </a>


                                                    </td>

                                                    <td>
                                <span style="font-size: 12px; color: white !important; font-weight: normal;background-color: #c57400;    width: 150px;"
                                      class="badge badge-add"><?php echo $row->publisher_name; ?></span>
                                                    </td>


                                                </tr>
                                            <?php } ?>
                                            </tbody>
                                        </table>


                                    <?php } else { ?>
                                        <div style="color: red; font-size: large;" class="col-sm-12">لم يتم إضافة
                                            إيصالات !!
                                        </div>

                                    <?php } ?>

                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab2">
                                <div class="panel-body">


                                    <?php

                                    if (!empty($all_esals_inbox)) {
                                        ?>
                                        <table id=""
                                               class="table table-striped table-bordered dt-responsive nowrap example">
                                            <thead>
                                            <tr class="greentd">
                                                <th style="text-align: center !important;">م</th>
                                                <th style="text-align: center !important;">رقم الإيصال</th>
                                                <th style="text-align: center !important;">التاريخ</th>
                                                <th style="text-align: center !important;">نوع الإيصال</th>
                                                <th style="text-align: center !important;">طريقة التوريد</th>
                                                <th style="text-align: center !important;">المبلغ</th>
                                                <th style="text-align: center !important;">الإسم</th>
                                                <th style="text-align: center !important;">البند</th>
                                                <th style="text-align: center !important;">صورة المرفق</th>
                                                <th style="text-align: center !important;">التفاصيل</th>
                                                <th style="text-align: center !important;">الإجراء</th>
                                                <th style="text-align: center !important;">نوع القيد</th>
                                                <th style="text-align: center !important;">رقم القيد</th>


                                            </tr>
                                            </thead>
                                            <tbody>
                                            <?php
                                            $x = 0;
                                            foreach ($all_esals_inbox as $row) {
                                                $x++;
//                                                if ($row->person_type == 1) {
//                                                    if ($row->person_type == 1) {
//                                                        $name = $row->MemberDetails['k_name'];
//                                                    } elseif ($row->person_type == 2) {
//                                                        $name = $row->MemberDetails['d_name'];
//                                                    } elseif ($row->person_type == 3) {
//                                                        $name = $row->MemberDetails['name'];
//                                                    }
//
//                                                } elseif ($row->person_type == 0) {
//                                                    $name = $row->person_name;
//                                                }
                                                ?>
                                                <tr>
                                                    <td><?= $x ?></td>
                                                    <td><?= $row->esal_num ?></td>
                                                    <td><?= $row->esal_date ?></td>
                                                    <td><?= $row->esal_type_title ?></td>
                                                    <td><?php if (!empty($pay_method_arr[$row->pay_method])) {
                                                            echo $pay_method_arr[$row->pay_method];
                                                        } ?></td>
                                                    <td><?= $row->value ?></td>
                                                    <td><?= $row->person_name ?></td>
                                                    <td><?= $row->band_title ?></td>
                                                    <td>
                                                        <?php if (!empty($row->file)) { ?>
                                                        <a data-toggle="modal" type="button" style="cursor: pointer"
                                                           data-target="#modal-img"
                                                           onclick="$('#my_image').attr('src','<?php echo base_url() . 'uploads/images/' . $row->file ?>');">
                                                                <i class="fa fa-eye"></i>
                                                            </a><?php } else {
                                                            echo 'غير متاحة';
                                                        } ?></td>
                                                    <td>
                                                        <button data-toggle="modal" style="padding: 6px 12px;"
                                                                onclick="GetTable(<?php echo $row->id; ?>)"
                                                                data-target="#myModal">التفاصيل
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <?php if ($_SESSION['user_id'] == 14) { ?>

                                                            <a href="<?php echo base_url(); ?>st/esalat/Esalat_estlam/addesal/<?php echo $row->id; ?>">
                                                                <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                                            </a>
                                                            <a onclick="$('#adele').attr('href', '<?= base_url() . " st/esalat/Esalat_estlam/Deleteesal/" . $row->id ?>');"
                                                               data-toggle="modal" data-target="#modal-delete"
                                                               title="حذف"> <i class="fa fa-trash"
                                                                               aria-hidden="true"></i> </a>

                                                            <a href='<?php echo base_url() . 'st/esalat/Esalat_estlam/Printesal/' . $row->id ?>'
                                                               target='_blank'><i class='fa fa-print' aria -
                                                                                  hidden='true'></i></a>


                                                        <?php } else { ?>
                                                            <a href='<?php echo base_url() . 'st/esalat/Esalat_estlam/Printesal/' . $row->id ?>'
                                                               target='_blank'><i class='fa fa-print' aria -
                                                                                  hidden='true'></i></a>

                                                        <?php } ?>
                                                    </td>

                                                    <td><?= $row->qued_type ?></td>
                                                    <td><?= $row->qued_num ?></td>
                                                </tr>
                                            <?php } ?>
                                            </tbody>
                                        </table>
                                    <?php } else { ?>
                                        <div style="color: red; font-size: large;" class="col-sm-12">لم يتم إضافة
                                            إيصالات !!
                                        </div>

                                    <?php } ?>


                                </div>
                            </div>
                        </div>
                    </div>
                </div>
          
        </div>

    </div>

    <!---------------------------------------------------------myModals------------------------------------>


    <div class="modal fade" id="modal-img" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">صورة المرفق</h4>
                </div>
                <div class="modal-body">
                    <img id="my_image" src="#" width="100%">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">إغلاق</button>
                </div>
            </div>
        </div>
    </div>


    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document" style="width:80%">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">التفاصيل</h4>
                </div>
                <div class="modal-body" id="optionearea1">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">إغلاق</button>
                </div>
            </div>
        </div>
    </div>


    <!---------------------------------------------------------myModals------------------------------------>

    <div class="modal fade" id="myModal_search" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document" style="width: 95%">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">بحث</h4>
                </div>
                <div class="modal-body" id="div_search">

                    <div class="col_md_30 col-sm-6 ">


                        <div class="col-md-4 col-sm-6  no-padding ">
                            <h6 class="label_title_2 label-blue ">بحث ب </h6>
                        </div>
                        <div class="col-md-8 col-sm-6  no-padding">
                            <?php
                            $array_search = array(
                                'esal_num' => 'رقم الايصال',
                                'person_name' => 'الإسم ',
                                'cheq_num' => 'رقم الشيك',

                                'value' => 'المبلغ',

                                'pay_method' => 'طريقة التوريد',
                                'esal_date' => 'التاريخ',
                                'bnd_type1' => 'البند'
                            );
                            ?>
                            <select id="array_search_id" class="form-control  input_style_2 "
                                    aria-required="true" onchange="check_val($(this).val())">
                                <option value="">إختر</option>


                                <?php foreach ($array_search as $key => $row_search) { ?>
                                    <option value="<?= $key ?>"><?= $row_search ?> </option>
                                <?php } ?>
                            </select>

                        </div>

                    </div>

                    <div class="col_md_30 col-sm-6  input_search_id" style="display:none; margin-left: 0;">


                        <div class="col-md-8 col-sm-6  no-padding">

                            <input id="input_search_id" value="" class="form-control  input_style_2 "
                                   aria-required="true">


                        </div>

                    </div>
                    <div class="col_md_30 col-sm-6  input_search_id2" style="display:none; margin-left: 0;">


                        <div class="col-md-8 col-sm-6  no-padding">
                            <?php $pay_method_arr = array(1 => 'نقدي', 2 => 'شيك', 3 => 'شبكة', 4 => 'إيداع نقدي', 5 => 'إيداع شيك', 6 => 'تحويل', 7 => 'أمر مستديم'); ?>

                            <select id="select_search_id" class="form-control  input_style_2 "
                                    aria-required="true">
                                <option value=""> اختر</option>


                                <?php foreach ($pay_method_arr as $key => $row_search) { ?>
                                    <option value="<?= $key ?>"><?= $row_search ?> </option>
                                <?php } ?>
                            </select>

                        </div>

                    </div>

                    <div class="col_md_30 col-sm-6  input_search_id3" style="display:none; margin-left: 0;">
                        <div class="col-md-8 col-sm-6  no-padding">
                            <select id="select_search_id3" class="form-control  input_style_2 "
                                    aria-required="true">
                                <option value=""> اختر</option>
                            </select>
                        </div>
                    </div>


                    <button type="button" onclick="searchResults()" class="btn btn-success btn-next"/>
                    <i class="fa fa-search-plus"></i> بحث </button>

                    <br><br>

                    <table class="table example table-striped table-bordered" style="display: none;">

                        <thead>
                        <tr class="info">
                            <th class="text-center"> م</th>
                            <th class="text-center">التاريخ</th>
                            <th class="text-center"> رقم الايصال</th>
                            <!--  <th class="text-center" >  نوع الايصال</th> -->
                            <th class="text-center"> مركز التحصيل</th>
                            <th class="text-center"> الإسم</th>
                            <th class="text-center"> طريقه التوريد</th>

                            <th class="text-center"> نوع التبرع</th>
                            <th class="text-center"> البند</th>
                            <th class="text-center"> اسم المحصل</th>

                            <th class="text-center"> القيمه</th>
                        </tr>
                        </thead>
                        <tbody class="result_search_modal">

                        </tbody>
                    </table>


                </div>
                <div class="modal-footer" style="display: inline-block;width: 100%">

                    <button type="button" class="btn btn-danger"
                            data-dismiss="modal">إغلاق
                    </button>

                </div>
            </div>
        </div>
    </div>


    <!----- end table ------>

    <script>


        function check_val(valu) {
            if (valu == 'esal_num' || valu == 'person_name' || valu == 'cheq_num' || valu == 'value') {
                $('.input_search_id').show();
                $('#input_search_id').attr('type', 'text');

                $('.input_search_id2').hide();
                $('.input_search_id3').hide();


            }
            if (valu == 'pay_method') {
                $('.input_search_id2').show();
                $('.input_search_id').hide();
                $('.input_search_id3').hide();

            }
            if (valu == 'bnd_type1') {
                $('#select_search_id3').length = 0;
                $.ajax({
                    type: 'post',
                    url: "<?php echo base_url();?>st/esalat/Esalat_estlam/get_bands",

                    success: function (d) {
                        jeson_data = JSON.parse(d);
                        for (var i = 0; i < jeson_data.length; i++) {

                            $('#select_search_id3').append('<option value="' + jeson_data[i].code + '"> ' + jeson_data[i].title + ' </option>');
                        }
                    }

                });

                $('.input_search_id3').show();
                $('.input_search_id2').hide();
                $('.input_search_id').hide();


            } //esal_date
            if (valu == 'esal_date') {
                $('.input_search_id').show();
                $('#input_search_id').attr('type', 'date');
                $('.input_search_id2').hide();
                $('.input_search_id3').hide();

            }

        }

    </script>


    <script>

        function searchResults() {
            $('.example').show();
            var select_search_id = $('#select_search_id').val();
            var select_search_id3 = $('#select_search_id3').val();
            var array_search_id = $('#array_search_id').val();
            var input_search_id = $('#input_search_id').val();
            $.ajax({
                type: 'post',
                url: "<?php echo base_url();?>st/esalat/Esalat_estlam/get_search_esals",
                data: {
                    select_search_id: select_search_id,
                    select_search_id3: select_search_id3,
                    array_search_id: array_search_id,
                    input_search_id: input_search_id
                },


                success: function (d) {

                    $('.result_search_modal').html(d);

                }

            });


        }


    </script>

    <script>
        function validate_number(evt) {
            var theEvent = evt || window.event;
            var key = theEvent.keyCode || theEvent.which;
            key = String.fromCharCode(key);
            var regex = /[0-9]|\./;
            if (!regex.test(key)) {
                theEvent.returnValue = false;
                if (theEvent.preventDefault) theEvent.preventDefault();
            }
        }
    </script>

    <script>
        function length_hesab_om(length) {
            var len = length.length;
            if (len < 24) {
                alert(" رقم الحساب لابد الايقل عن 24 حرف او رقم");
            }
            if (len > 24) {
                alert(" رقم الحساب لابد ألا يزيد عن 24 حرف او رقم");
            }
            if (len == 24) {
            }
        }
    </script>
    <script>
        function get_length(len, span_id) {
            if (len.length < 10) {
                document.getElementById("save").setAttribute("disabled", "disabled");
                document.getElementById("" + span_id).innerHTML = 'أقصي عدد 10 ارقام';
            }
            if (len.length > 10) {
                document.getElementById("save").setAttribute("disabled", "disabled");
                document.getElementById("" + span_id).innerHTML = 'أقصي عدد 10 ارقام';
            }
            if (len.length == 10) {
                document.getElementById("save").removeAttribute("disabled", "disabled");
                document.getElementById("" + span_id).innerHTML = '';
            }
        }
    </script>

    <script>
        function chek_length(inp_id, len) {
            var inchek_id = "#" + inp_id;
            var inchek = $('' + inchek_id).val();
            if (inchek.length < len) {
                document.getElementById("" + inp_id + "_span").style.color = '#F00';
                document.getElementById("" + inp_id + "_span").innerHTML = 'أقصي عدد ' + len + ' ارقام';
                document.getElementById("save").setAttribute("disabled", "disabled");
                var inchek_out = inchek.substring(0, len);
                $(inchek_id).val(inchek_out);
            }
            if (inchek.length > len) {
                document.getElementById("" + inp_id + "_span").style.color = '#F00';
                document.getElementById("" + inp_id + "_span").innerHTML = 'أقصي عدد ' + len + ' ارقام';
                document.getElementById("save").setAttribute("disabled", "disabled");
                var inchek_out = inchek.substring(0, len);
                $(inchek_id).val(inchek_out);
            }
            if (inchek.length == len) {
                document.getElementById("" + inp_id + "_span").innerHTML = '';
                document.getElementById("save").removeAttribute("disabled", "disabled");
            }
        }
    </script>


    <script>
        function length_hesab_om(length) {

            var len = length.length;

            if (len < 24) {
                document.getElementById("save").setAttribute("disabled", "disabled");
            }
            if (len > 24) {
                document.getElementById("save").setAttribute("disabled", "disabled");
            }
            if (len == 24) {
                document.getElementById("save").removeAttribute("disabled", "disabled");
            }
        }
    </script>


    <!------------------------------------start---------------------------->


    <script>

        function GetF2aTypeArr(valu) {


            $('#js_table_members').show();
            var F2aType = valu;
            var oTable_usergroup = $('#js_table_members').DataTable({
                dom: 'Bfrtip',
                "ajax": '<?php echo base_url(); ?>st/esalat/Esalat_estlam/getConnection/' + F2aType,

                aoColumns: [
                    {"bSortable": true},
                    {"bSortable": true},
                    {"bSortable": true},
                    {"bSortable": true}
                ],

                buttons: [
                    'pageLength',
                    'copy',
                    'excelHtml5',
                    {
                        extend: "pdfHtml5",
                        orientation: 'landscape'
                    },
                    {
                        extend: 'print',
                        exportOptions: {columns: ':visible'},
                        orientation: 'landscape'
                    },
                    'colvis'
                ],

                colReorder: true,
                destroy: true

            });

        }

    </script>


    <script>
           function GetDiv(div, valu) {
            var html;
            if (valu == 1) {
                // Nagwa
                $('#geha_show').hide();
                $('#myDiv').show();
                // Nagwa
                html = '<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
                    '<thead><tr class="greentd"><th style="width: 50px;">#</th><th style="width: 50px;"> كود الكافل </th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الجوال</th>' +
                    '</tr></thead><table><div id="dataMember"></div></div>';
            } else if (valu == 2) {
                // Nagwa
                $('#geha_show').hide();
                $('#myDiv').show();
                // Nagwa
                html = '<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
                    '<thead><tr class="greentd"><th style="width: 50px;">#</th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الهوية </th><th style="width: 170px;" >الجوال</th>' +
                    '</tr></thead><table><div id="dataMember"></div></div>';

            } else if (valu == 3) {
                // Nagwa
                $('#geha_show').hide();
                $('#myDiv').show();
                // Nagwa
                html = '<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
                    '<thead><tr class="greentd"><th style="width: 50px;">#</th><th style="width: 50px;"> رقم العضوية </th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الجوال</th>' +
                    '</tr></thead><table><div id="dataMember"></div></div>';
            }
            // Nagwa
            else if (valu == 4) {
                $('#geha_show').show();
                $('#myDiv').hide();

            }
            //  $('#geha_show').hide();
            // Nagwa
            $("#" + div).html(html);

            /*
    $("#" + div).html('<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
        '<thead><tr><th style="width: 50px;">#</th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الهوية </th><th style="width: 170px;" >الجوال</th>' +
        '</tr></thead><table><div id="dataMember"></div></div>');
        */

            $('#person_type').val(valu);
            $('#js_table_members').show();
            var F2aType = valu;

            // Nagwa

            if (valu == 1 || valu == 2 || valu == 3) {


             var oTable_usergroup = $('#js_table_members').DataTable({
                dom: 'Bfrtip',
                "ajax": '<?php echo base_url(); ?>st/esalat/Esalat_estlam/getConnection/' + F2aType,

                aoColumns: [
                    {"bSortable": true},
                    {"bSortable": true},
                    {"bSortable": true},
                    {"bSortable": true}
                ],

                buttons: [
                    'pageLength',
                    'copy',
                    'excelHtml5',
                    {
                        extend: "pdfHtml5",
                        orientation: 'landscape'
                    },
                    {
                        extend: 'print',
                        exportOptions: {columns: ':visible'},
                        orientation: 'landscape'
                    },
                    'colvis'
                ],

                colReorder: true,
                destroy: true

            });


        }

        }
/*
        function GetDiv(div, valu) {
            var html;
            if (valu == 1) {
                html = '<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
                    '<thead><tr><th style="width: 50px;">#</th><th style="width: 50px;"> كود الكافل </th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الجوال</th>' +
                    '</tr></thead><table><div id="dataMember"></div></div>';
            } else if (valu == 2) {

                html = '<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
                    '<thead><tr><th style="width: 50px;">#</th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الهوية </th><th style="width: 170px;" >الجوال</th>' +
                    '</tr></thead><table><div id="dataMember"></div></div>';

            } else if (valu == 3) {
                html = '<div class="col-md-12"><table id="js_table_members" class="table table-striped table-bordered dt-responsive nowrap " >' +
                    '<thead><tr><th style="width: 50px;">#</th><th style="width: 50px;"> رقم العضوية </th><th style="width: 50px;"> الإسم </th><th style="width: 170px;" >الجوال</th>' +
                    '</tr></thead><table><div id="dataMember"></div></div>';
            }
            $("#" + div).html(html);



            $('#person_type').val(valu);
            $('#js_table_members').show();
            var F2aType = valu;
            var oTable_usergroup = $('#js_table_members').DataTable({
                dom: 'Bfrtip',
                "ajax": '<?php echo base_url(); ?>st/esalat/Esalat_estlam/getConnection/' + F2aType,

                aoColumns: [
                    {"bSortable": true},
                    {"bSortable": true},
                    {"bSortable": true},
                    {"bSortable": true}
                ],

                buttons: [
                    'pageLength',
                    'copy',
                    'excelHtml5',
                    {
                        extend: "pdfHtml5",
                        orientation: 'landscape'
                    },
                    {
                        extend: 'print',
                        exportOptions: {columns: ':visible'},
                        orientation: 'landscape'
                    },
                    'colvis'
                ],

                colReorder: true,
                destroy: true

            });

        }
        */
    </script>
    <script>

        function GetMemberName(valu) {
            var id = valu;
            var name = $("#member" + valu).data('name');
            var mob = $("#member" + valu).data('mob');
            $('#person_name').val(name);
            $('#person_span').html(name);
            $('#person_mob').val(mob);
            $('#member_id').val(id);
            $("#myModalInfo .close").click();


        }

    </script>


    <script>


        function GetPayType(valu) {

            $('.empty').val(" ");
            var type = valu;
            switch (type) {
                case '2':
                    $("#cheq").show();
                    $("#cheq_span").show();
                    $(".cheq").removeAttr("disabled");
                    $(".eda3").attr('disabled', 'disabled');
                    $(".shabka").attr('disabled', 'disabled');
                    $(".eda3").attr('disabled', 'disabled');
                    $(".mosatadem").attr('disabled', 'disabled');
                    $("#raqm_marga_lebal").text('رقم المرجع');
                    document.getElementById("cheq_num").setAttribute("data-validation", "required");
                    document.getElementById("cheq_date").setAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").setAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").setAttribute("data-validation", "required");


                    document.getElementById("marg3_num").removeAttribute("data-validation", "required");
                    document.getElementById("marg3_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").removeAttribute("data-validation", "required");

                    document.getElementById("device_num").removeAttribute("data-validation", "required");
                    document.getElementById("process_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("account_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").removeAttribute("data-validation", "required");

                    document.getElementById("bank_id_fk_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("account_num").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").removeAttribute("data-validation", "required");
                    $("#eda3").hide();
                    $("#shabka").hide();
                    $("#mosatadem").hide();
                    $("#shabka_span").hide();
                    $("#eda3_span").hide();
                    $("#mostadem_span").hide();


                    break;
                case '4'  :
                    $(".bank_id_fk").val('');
                    $(".branch_id_fk").html('<option>إختر </option>');
                    $(".accoun_num_id_fk").html('<option>إختر </option>');
                    $("#eda3").show();
                    $(".eda3").removeAttr("disabled");
                    $("#eda3_span").show();
                    $(".cheq").attr('disabled', 'disabled');
                    $(".shabka").attr('disabled', 'disabled');
                    $(".mosatadem").attr('disabled', 'disabled');
                    $("#raqm_marga_lebal").text('رقم المرجع');
                    document.getElementById("marg3_num").setAttribute("data-validation", "required");
                    document.getElementById("marg3_date").setAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").setAttribute("data-validation", "required");

                    document.getElementById("cheq_num").removeAttribute("data-validation", "required");
                    document.getElementById("cheq_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").removeAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").removeAttribute("data-validation", "required");


                    document.getElementById("device_num").removeAttribute("data-validation", "required");
                    document.getElementById("process_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("account_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").removeAttribute("data-validation", "required");

                    document.getElementById("bank_id_fk_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("account_num").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").removeAttribute("data-validation", "required");
                    $("#cheq").hide();
                    $("#shabka").hide();
                    $("#mosatadem").hide();
                    $("#cheq_span").hide();
                    $("#shabka_span").hide();
                    $("#mostadem_span").hide();
                    break;
                case  '5'  :
                    $(".bank_id_fk").val('');
                    $(".branch_id_fk").html('<option>إختر </option>');
                    $(".accoun_num_id_fk").html('<option>إختر </option>');
                    $("#eda3").show();
                    $("#eda3_span").show();
                    $(".eda3").removeAttr("disabled");
                    $(".cheq").attr('disabled', 'disabled');
                    $(".shabka").attr('disabled', 'disabled');
                    $(".mosatadem").attr('disabled', 'disabled');
                    $("#raqm_marga_lebal").text('رقم الشيك');
                    document.getElementById("marg3_num").setAttribute("data-validation", "required");
                    document.getElementById("marg3_date").setAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").setAttribute("data-validation", "required");

                    document.getElementById("cheq_num").removeAttribute("data-validation", "required");
                    document.getElementById("cheq_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").removeAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").removeAttribute("data-validation", "required");


                    document.getElementById("device_num").removeAttribute("data-validation", "required");
                    document.getElementById("process_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("account_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").removeAttribute("data-validation", "required");

                    document.getElementById("bank_id_fk_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("account_num").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").removeAttribute("data-validation", "required");
                    $("#cheq").hide();
                    $("#shabka").hide();
                    $("#mosatadem").hide();
                    $("#cheq_span").hide();
                    $("#shabka_span").hide();
                    $("#mostadem_span").hide();
                    break;
                case   '6' :
                    $(".bank_id_fk").val('');
                    $(".branch_id_fk").html('<option>إختر </option>');
                    $(".accoun_num_id_fk").html('<option>إختر </option>');
                    $("#eda3").show();
                    $(".eda3").removeAttr("disabled");
                    $("#eda3_span").show();
                    $(".cheq").attr('disabled', 'disabled');
                    $(".shabka").attr('disabled', 'disabled');
                    $(".mosatadem").attr('disabled', 'disabled');
                    $("#raqm_marga_lebal").text('الحساب المحول منه');
                    document.getElementById("marg3_num").setAttribute("data-validation", "required");
                    document.getElementById("marg3_date").setAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").setAttribute("data-validation", "required");


                    document.getElementById("cheq_num").removeAttribute("data-validation", "required");
                    document.getElementById("cheq_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").removeAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").removeAttribute("data-validation", "required");


                    document.getElementById("device_num").removeAttribute("data-validation", "required");
                    document.getElementById("process_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("account_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").removeAttribute("data-validation", "required");

                    document.getElementById("bank_id_fk_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("account_num").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").removeAttribute("data-validation", "required");
                    $("#cheq").hide();
                    $("#shabka").hide();
                    $("#mosatadem").hide();
                    $("#cheq_span").hide();
                    $("#shabka_span").hide();
                    $("#mostadem_span").hide();
                    break;
                case '3':
                    $("#shabka").show();
                    $(".shabka").removeAttr("disabled");
                    $("#shabka_span").show();
                    $(".eda3").attr('disabled', 'disabled');
                    $(".cheq").attr('disabled', 'disabled');
                    $(".mosatadem").attr('disabled', 'disabled');
                    document.getElementById("device_num").setAttribute("data-validation", "required");
                    document.getElementById("process_date").setAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").setAttribute("data-validation", "required");
                    document.getElementById("account_shabka").setAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").setAttribute("data-validation", "required");


                    document.getElementById("cheq_num").removeAttribute("data-validation", "required");
                    document.getElementById("cheq_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").removeAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").removeAttribute("data-validation", "required");


                    document.getElementById("marg3_num").removeAttribute("data-validation", "required");
                    document.getElementById("marg3_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").removeAttribute("data-validation", "required");


                    document.getElementById("bank_id_fk_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("account_num").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").removeAttribute("data-validation", "required");
                    $("#eda3").hide();
                    $("#cheq").hide();
                    $("#mosatadem").hide();
                    $("#cheq_span").hide();
                    $("#eda3_span").hide();
                    $("#mostadem_span").hide();

                    break;
                case '7':
                    $("#mosatadem").show();
                    $(".mosatadem").removeAttr("disabled");
                    $("#mostadem_span").show();
                    $(".bank_id_fk").val('');
                    $(".branch_id_fk").html('<option>إختر </option>');
                    $(".accoun_num_id_fk").html('<option>إختر </option>');
                    $(".eda3").attr('disabled', 'disabled');
                    $(".shabka").attr('disabled', 'disabled');
                    $(".cheq").attr('disabled', 'disabled');
                    document.getElementById("bank_id_fk_mosatadem").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").setAttribute("data-validation", "required");
                    document.getElementById("account_num").setAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").setAttribute("data-validation", "required");

                    document.getElementById("cheq_num").removeAttribute("data-validation", "required");
                    document.getElementById("cheq_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").removeAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").removeAttribute("data-validation", "required");


                    document.getElementById("marg3_num").removeAttribute("data-validation", "required");
                    document.getElementById("marg3_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").removeAttribute("data-validation", "required");

                    document.getElementById("device_num").removeAttribute("data-validation", "required");
                    document.getElementById("process_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("account_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").removeAttribute("data-validation", "required");


                    $("#eda3").hide();
                    $("#shabka").hide();
                    $("#cheq").hide();
                    $("#cheq_span").hide();
                    $("#eda3_span").hide();
                    $("#shabka_span").hide();
                    break;
                default:

                    $(".cheq").attr('disabled', 'disabled');
                    $(".eda3").attr('disabled', 'disabled');
                    $(".shabka").attr('disabled', 'disabled');
                    $(".mosatadem").attr('disabled', 'disabled');

                    document.getElementById("cheq_num").removeAttribute("data-validation", "required");
                    document.getElementById("cheq_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_cheq").removeAttribute("data-validation", "required");
                    document.getElementById("branch_id_fk").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num").removeAttribute("data-validation", "required");


                    document.getElementById("marg3_num").removeAttribute("data-validation", "required");
                    document.getElementById("marg3_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_id_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_num_eda3").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_eda3").removeAttribute("data-validation", "required");

                    document.getElementById("device_num").removeAttribute("data-validation", "required");
                    document.getElementById("process_date").removeAttribute("data-validation", "required");
                    document.getElementById("bank_id_fk_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("account_shabka").removeAttribute("data-validation", "required");
                    document.getElementById("accountNum_shabka").removeAttribute("data-validation", "required");

                    document.getElementById("bank_id_fk_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_mosatadem").removeAttribute("data-validation", "required");
                    document.getElementById("account_num").removeAttribute("data-validation", "required");
                    document.getElementById("bank_account_code_mosatadem").removeAttribute("data-validation", "required");
                    $("#cheq").hide();
                    $("#eda3").hide();
                    $("#shabka").hide();
                    $("#mosatadem").hide();
                    $("#cheq_span").hide();
                    $("#eda3_span").hide();
                    $("#shabka_span").hide();
                    $("#mostadem_span").hide();
                    break;
            }


        }


    </script>

    <script>
        function check_hesab(length) {

            var len = length.length;
            if (len < 24) {
                document.getElementById("save").setAttribute("disabled", "disabled");
            }
            if (len > 24) {
                document.getElementById("save").setAttribute("disabled", "disabled");
            }
            if (len == 24) {
                document.getElementById("save").removeAttribute("disabled", "disabled");
            }
        }
    </script>


    <script>

        function GetArabicNum(valu) {


            if (valu != 0 && valu != '') {
                var dataString = 'number=' + valu;
                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetArabicNum',
                    data: dataString,
                    cache: false,
                    success: function (json_data) {
                        var JSONObject = JSON.parse(json_data);
                        $('.arabic_number').val(JSONObject['title']);
                        //$('.arabic_number2').html(JSONObject['value']);
                        $('#value1').html(JSONObject['value']);
                        $('.arabic_number_span').html(JSONObject['title']);
                    }
                });

            }
        }

    </script>


    <script>


        function GetByArray(valu, type, pay_type) {


            if (valu != '') {


                var bank_id = $('#bank_id_fk_' + pay_type).val();
                var bank_account_id = $('#bank_account_id_' + pay_type).val();

                var bank_account_num = $('#bank_account_num_' + pay_type).val();


                if (bank_id != 0 && bank_id != '') {
                    var dataString = 'id=' + valu + '&type=' + type + '&bank_id=' + bank_id;

                    if (type === 'GetAccountCode') {
                        var dataString = 'id=' + valu + '&type=' + type + '&bank_id=' + bank_id + '&bank_account_id=' + bank_account_id + '&bank_account_num=' + bank_account_num;

                    }

                } else {
                    var dataString = 'id=' + valu + '&type=' + type;
                }

                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetByArray',
                    data: dataString,
                    cache: false,
                    success: function (json_data) {

                        var JSONObject = JSON.parse(json_data);

                        if (type === 'getAccount') {

                            $('#bank_account_num_' + pay_type).html("<option>إختر </option>");
                            $('#bank_account_code_' + pay_type).html("<option>إختر </option>");


                            var html = '<option>إختر </option>';

                            for (i = 0; i < JSONObject.length; i++) {
                                html += '<option value="' + JSONObject[i].account_id_fk + '"> ' + JSONObject[i].AccountName + '</option>';
                            }
                            $(".branch_id_fk").html(html);


                        } else if (type === 'getAccountNum') {
                            console.log(JSONObject);
                            // if(JSONObject.length > 1) {
                            var html = '';
                            // }
                            for (i = 0; i < JSONObject.length; i++) {
                                html += '<option value="' + JSONObject[i].account_num + '"> ' + JSONObject[i].account_num + '</option>';
                            }
                            $(".accoun_num_id_fk").html(html);


                            var bank_account_code_html = '';
                            for (i = 0; i < JSONObject.length; i++) {
                                bank_account_code_html += '<option value="' + JSONObject[i].rqm_hesab + '"> ' + JSONObject[i].rqm_hesab + '</option>';
                            }
                            $("#bank_account_code_eda3").html(bank_account_code_html);


                            var bank_account_code_html = '';
                            for (i = 0; i < JSONObject.length; i++) {
                                bank_account_code_html += '<option value="' + JSONObject[i].rqm_hesab + '"> ' + JSONObject[i].rqm_hesab + '</option>';
                            }
                            $("#bank_account_code_" + pay_type).html(bank_account_code_html);


                            if (pay_type === 'mosatadem') {
                                $(".mostadem_num_span").html(JSONObject[0].rqm_hesab);
                            }


                        }

                    }
                });
            }
        }

    </script>

    <script>

        function GetDeviceData(valu, type) {
            if (valu != 0 && valu > 0 && valu != 0) {


                var device_num = $('#device_num').val();

                var bank_id_fk = $('#bank_id_fk_shabka').val();


                if (device_num != 0 && device_num != '') {

                    if (bank_id_fk != 0 && bank_id_fk != '') {
                        var dataString = 'id=' + valu + '&type=' + type + '&device_id_fk=' + device_num + '&bank_id_fk=' + bank_id_fk;

                    } else {
                        var dataString = 'id=' + valu + '&type=' + type + '&device_id_fk=' + device_num;

                    }

                } else {
                    var dataString = 'id=' + valu + '&type=' + type;
                }
                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetDeviceData',
                    data: dataString,
                    cache: false,
                    success: function (json_data) {
                        var JSONObject = JSON.parse(json_data);

                        if (type === 'all') {
                            console.log(JSONObject);
                            // $('#bank_id_fk_shabka').html("<option>إختر </option>");
                            //  $('#account_shabka').html("<option>إختر </option>");
                            // $('#accountNum_shabka').html("<option>إختر </option>");
                            var bank_id_fk_html = '';
                            var account_html = '';
                            var accountNum_html = '';
                            var accountCode_html = '';


                            if (JSONObject['all_data'].length > 0) {

                                for (i = 0; i < JSONObject['all_data'].length; i++) {
                                    bank_id_fk_html += '<option value="' + JSONObject['all_data'][i].bank_id_fk + '"> ' + JSONObject['all_data'][i].title + '</option>';
                                }
                                $("#bank_id_fk_shabka").html(bank_id_fk_html);

                                for (i = 0; i < JSONObject['all_data'].length; i++) {
                                    account_html += '<option value="' + JSONObject['all_data'][i].account_id_fk + '"> ' + JSONObject['all_data'][i].AccountName + '</option>';
                                }
                                $("#account_shabka").html(account_html);

                                for (i = 0; i < JSONObject['all_data'].length; i++) {
                                    accountNum_html += '<option value="' + JSONObject['all_data'][i].AccountNum + '"> ' + JSONObject['all_data'][i].AccountNum + '</option>';
                                }
                                $("#accountNum_shabka").html(accountNum_html);

                                GetByArray
                            }
                            if (JSONObject['account_code'] != '') {
                                for (i = 0; i < JSONObject['account_code'].length; i++) {
                                    accountCode_html += '<option value="' + JSONObject['account_code'][i].rqm_hesab + '"> ' + JSONObject['account_code'][i].rqm_hesab + '</option>';
                                }
                                $("#accountCode_shabka").html(accountCode_html);

                            }

                        }
                        /*if(type === 'bank'){
                        $('#bank_id_fk_shabka').html("<option>إختر </option>");
                        $('#account_shabka').html("<option>إختر </option>");
                        $('#accountNum_shabka').html("<option>إختر </option>");
                        var  html='<option>إختر </option>';
                        for(i=0; i<JSONObject.length ; i++){
                            html +='<option value="' + JSONObject[i].bank_id_fk + '"> ' + JSONObject[i].title + '</option>';
                        }
                        $("#bank_id_fk_shabka").html(html);
                    } else if(type === 'Account'){
                        $('#account_shabka').html("<option>إختر </option>");
                        $('#accountNum_shabka').html("<option>إختر </option>");
                        // if(JSONObject.length > 1) {
                        var html = '<option>إختر </option>';
                        // }
                        for(i=0; i<JSONObject.length ; i++){
                            html +='<option value="' + JSONObject[i].account_id_fk + '"> ' + JSONObject[i].AccountName + '</option>';
                        }
                        $("#account_shabka").html(html);

                    } else if(type === 'AccountNum'){
                        // if(JSONObject.length > 1) {
                        var html = '<option>إختر </option>';
                        // }
                        for(i=0; i<JSONObject.length ; i++){
                            html +='<option value="' + JSONObject[i].account_id_fk + '"> ' + JSONObject[i].AccountNum + '</option>';
                        }
                        $("#accountNum_shabka").html(html);

                    } else if(type === 'AccountCode'){
                       // console.log(JSONObject);
                        var html = '<option>إختر </option>';
                        for(i=0; i<JSONObject.length ; i++){
                            html +='<option value="' + JSONObject[i].account_id_fk + '"> ' + JSONObject[i].rqm_hesab + '</option>';
                        }
                        $("#accountCode_shabka").html(html);

                    }*/

                    }
                });
            }
        }


    </script>
    <script>


        function GetTitle(value) {
            var str = value;
            if (str != '' && str != 0) {
                var data = str.split("-");
                $("#title_span").html(data[1] + '/');
            } else {
                $("#title_span").html('');

            }

        }


        function GetGreetings(value) {
            var str = value;
            if (str != '' && str != 0) {
                var data = str.split("-");
                $("#greetings_span").html(data[1]);
            } else {
                $("#greetings_span").html('');

            }
        }


        function GEtF2a(value, type) {
            if (value != 0 && value > 0 && value != 0) {

                var dataString = 'id=' + value + '&type=' + type;
                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetData',
                    data: dataString,
                    cache: false,
                    success: function (json_data) {
                        var JSONObject = JSON.parse(json_data);
                        //   console.log(JSONObject);
                        if (type === 'tabro3') {
                            // if(JSONObject.length > 1) {
                            var html = '<option value="">إختر </option>';
                            // }

                            for (i = 0; i < JSONObject.length; i++) {
                                html += '<option value="' + JSONObject[i].from_id + '"> ' + JSONObject[i].title + '</option>';
                            }
                            $("#erad_tbro3").html(html);

                        } else if (type === 'fe2a') {


                            //  if(JSONObject.length > 1) {
                            var html = '<option value="">إختر </option>';
                            //}
                            for (i = 0; i < JSONObject.length; i++) {
                                html += '<option value="' + JSONObject[i].from_id + '"> ' + JSONObject[i].title + '</option>';
                            }
                            $("#fe2a").html(html);

                        } else if (type === 'band') {
                            if (JSONObject.length > 1) {
                                var html = '<option value="">إختر </option>';
                            }
                            for (i = 0; i < JSONObject.length; i++) {
                                html += '<option value="' + JSONObject[i].code + '"> ' + JSONObject[i].title + '</option>';
                            }
                            $("#band").html(html);

                        }
                    }
                });
            }

        }

    </script>


    <script>
        function GetDate2(valu) {
            $('#day_date_span').html(valu);
        }
    </script>


    <script>

        function GetTable(valu) {
            if (valu != 0 && valu != '') {
                var dataString = 'id=' + valu;
                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetDetails',
                    data: dataString,
                    dataType: 'html',
                    cache: false,
                    success: function (html) {
                        $("#optionearea1").html(html);
                    }
                });

            }

        }


    </script>


    <script>
        var counter = 0;

        function GetValues() {

            var click_state = parseInt($('#myId').attr('data-click-state'));
            console.log(' click_state : ' + click_state);

            if ($('#myId').attr('data-click-state') < 4) {
                click_state += 1;
                $('#myId').attr('data-click-state', click_state);
                console.log('new  click_state : ' + click_state);

                var erad_tbro3 = $('#erad_tbro3').val();
                var fe2a = $('#fe2a').val();
                var band = $('#band').val();

                var dataString = 'erad_tbro3=' + erad_tbro3 + '&fe2a=' + fe2a + '&band=' + band;
                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetData2',
                    data: dataString,
                    cache: false,
                    success: function (json_data) {
                        var JSONObject = JSON.parse(json_data);
                        var html = '<option>إختر </option>';
                        for (i = 0; i < JSONObject.fe2a_type2_arr.length; i++) {
                            html += '<option value="' + JSONObject.fe2a_type2_arr[i].from_id + '">' + JSONObject.fe2a_type2_arr[i].title + '</option>';
                        }
                        $("#fe2a_type" + click_state).html(html);
                    }
                });

                $("#first_value").html('<input style="font-weight: 600 !important;margin-top:26px" type="text" step="any" data-validation="required" ' +
                    'name="value[]" class="form-control inputclass  value band1_value"  ' +
                    'onkeyup="CheckValue(this);  $(\'#value1\').html($(this).val());" >');

                $("#ValuesDiv" + click_state).append('<div class="col-md-4 col-sm-6 padding-4"> ' +

                    '<label class="label">الفئة </label>' +
                    '<select  data-validation="required" onchange="GetBandType2(this.value,' + click_state + ')" class="form-control inputclass "' +
                    ' id="fe2a_type' + click_state + '" name="fe2a_type[]"  aria-required="true">' +
                    '<option value="">إختر  </option></select></div>');

                $("#ValuesDiv" + click_state).append('<div class="col-md-5 col-sm-6 padding-4">' +
                    '<label class="label">البند </label>' +
                   
                    '<select  data-validation="required" class="form-control inputclass "  ' +
                    ' onchange="$(\'#band_tbro3_td2\').html($(\'#bnd_type2 option:selected\').text()); " id="bnd_type' + click_state + '" name="bnd_type[]"  aria-required="true">' +
                    '<option value="0">إختر  </option></select></div>');

                $("#ValuesDiv" + click_state).append('<div  class="col-md-2   no-padding" >' +
                    '<input style="font-weight: 600 !important;margin-top:26px" data-validation="required" type="text" step="any"' +
                    ' name="value[]" class="form-control inputclass  value band_value' + click_state + '" ' +
                    ' onkeyup="CheckValue(this);  $(\'#value2\').html($(this).val());" ></div>');


                $('#secondFe2aType').show();
                $('.about_td').attr('rowspan', '2');
                $('#value1').show();
            }


        }

        function minus_div() {
            var click_state = parseInt($('#myId_munis').attr('data-click-state'));
            console.log(' munis click_state : ' + click_state);
            if (click_state >= 2) {
                $('#secondFe2aType').hide();
                $('.about_td').attr('rowspan', '0');
                $('#value1').hide();
                $('#first_value' + click_state).html('');
                $('#ValuesDiv' + click_state).html('');
                click_state -= 1;
                $('#myId_munis').attr('data-click-state', click_state);
                $('#myId').attr('data-click-state', click_state);
            }
        }

        function GetBandType2(value, row_id) {

            var bands = [];
            $('select[name^=bnd_type]').each(function () {
                bands.push($(this).val());
            });
            console.log(' bands : ' + bands[0]);
            bands = JSON.stringify(bands);
            var dataString = 'id=' + value + '&FirstBandValue=' + bands;

            $.ajax({
                type: 'post',
                url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/GetBandType2',
                data: dataString,
                cache: false,
                success: function (json_data) {
                    var JSONObject = JSON.parse(json_data);
                    if (JSONObject.length > 1) {
                        var html = '<option>إختر </option>';
                    }
                    for (i = 0; i < JSONObject.length; i++) {
                        html += '<option value="' + JSONObject[i].code + '"> ' + JSONObject[i].title + '</option>';
                    }
                    $("#bnd_type" + row_id).html(html);
                }
            });


        }


     /*   function CheckValue(elem) {

            var vals = 0;
            var count = 0;
            var input_ele = document.getElementsByName('value[]');
            $(input_ele).each(function () {
                console.log(' val : ' + count + ': ' + vals + "  : : ");
                if (!isNaN(parseFloat($(this).val()))) {
                    vals += parseFloat($(this).val());
                }
                count++;
            });
            var val = $("#value").val();
            console.log('-------------------------------- vals : ' + vals + "------------------------------ ");
            if (parseFloat(vals) > parseFloat(val)) {
                alert(' القيمة أكبر من المبلغ المتاح');
                $(".value").val(' ');
                // elem.value='';
            }
        }*/
            function CheckValue(elem) {

        var vals = 0;
        var count = 0;
        var input_ele = document.getElementsByName('value[]');
        $(input_ele).each(function () {
            console.log(' val : ' + count + ': ' + vals + "  : : ");
            if (!isNaN(parseFloat($(this).val()))) {
                vals += parseFloat($(this).val());
            }
            count++;
        });
        var val = $("#value").val();
        console.log('-------------------------------- vals : ' + vals + "------------------------------ ");

//26-5-om
        if (parseFloat(vals) > parseFloat(val)) {
// alert(' القيمة أكبر من المبلغ المتاح');
// $(".value").val(' ');
            return 1;
// elem.value='';
        } else if (parseFloat(vals) < parseFloat(val)) {

            return 0;
        } else {
            return 2;
        }
    }
    </script>

    <script>
        function checkInputs() {

            var inputsNotEmprty = []
            $(".inputclass").each(function () {
                if ($(this).val() != '') {
                    inputsNotEmprty.push($(this).val());
                }
            });
            if ($('.inputclass').length == inputsNotEmprty.length) {
                $("#attach_button").attr('data-target', '#myModal_attach');
            } else {
                $("#attach_button").removeAttr('data-target', '#myModal_attach');
                alert('تأكد من إدخال الحقول الناقصة!');
            }

        }
    </script>


    <script>
        function add_row() {
            $(".mytable").show();
            //var x = document.getElementById('resultTable');
            var len = $(".attachTable").length + 1;

            $(".attachTable").append('<tr class="' + len + '"><td><input type="input" name="title[]" id="title"  class="form-control  " data-validation="reuqired"></td><td><input type="file" name="file[]" id="file"  class="form-control " data-validation="reuqired"></td><td><a href="#"  onclick="DeleteRowImg(' + len + ')"> <i class="fa fa-trash" ></i> </a></td></tr>');
        }

        function DeleteRowImg(valu) {
            $('.' + valu).remove();
            // var x = document.getElementById('resultTable');
            var len = $(".attachTable").length;
            if (len == 0) {
                $(".mytable").hide();
            }
        }

    </script>

    <script>

        function GetAttachTable() {
            $('#AttachTableDiv').html('');
            $(".AttachTable").clone().appendTo('#AttachTableDiv')
            $("#myModal_attach .close").click();
        }


    </script>


    <script type="text/javascript" src="<?php echo base_url() ?>asisst/admin_asset/js/jquery-1.10.1.min.js"></script>


    <script>


        function GetRedirectPage() {


            var inputsNotEmprty = []
            $(".inputclass").each(function () {
                if ($(this).val() != '') {
                    inputsNotEmprty.push($(this).val());
                }
            });

            var fe2a_value = $('#fe2a').val();
            var band_value = $('#band').val();

            if ($('.inputclass').length == inputsNotEmprty.length && fe2a_value != '' && band_value != '') {

             /*   $('#myRedirectModal').modal('show');
                var PersonType = $('#person_type').val();
                var fe2a1 = $('#fe2a').val();

                if (PersonType == 1 && fe2a1 == 563) {

                    $('#RedirectDiv').html('<div class="modal-header"><div class="icon-box"> <i class="material-icons">&#xE876;</i></div> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div>' +
                        '<div class="modal-body text-center">  <p>هل تريد   الطباعة ؟</p><button  type="submit" class="btn btn-success" name="save" value="print_kafel" ><span>نعم</span><i class=""></i></button><button  type="submit" name="save" value="save"class="btn btn-danger" ><span>لا</span> <i class=""></i></button></div>');
                } else {

                    $('#RedirectDiv').html('<div class="modal-header"><div class="icon-box"> <i class="material-icons">&#xE876;</i></div> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div>' +
                        '<div class="modal-body text-center">  <p>هل تريد الطباعة ؟</p><button  type="submit" class="btn btn-success" name="save" value="print_esal" ><span>نعم</span><i class=""></i></button><button  type="submit" name="save" value="save"class="btn btn-danger" ><span>لا</span> <i class=""></i></button></div>');
                }*/
                
                
//26-5-om
            if (CheckValue() == 1) {
                   alert('مجموع قيم البنود اكبر من مبلغ الايصال');
                $(".value").val(' ');
            } else if (CheckValue() == 0) {
              alert('مجموع قيم البنود أصغر من مبلغ الايصال');
                $(".value").val(' ');
            } else {
                $('#myRedirectModal').modal('show');
                var PersonType = $('#person_type').val();
                var fe2a1 = $('#fe2a').val();

                if (PersonType == 1 ) {

                    $('#RedirectDiv').html('<div class="modal-header"><div class="icon-box"> <i class="material-icons">&#xE876;</i></div> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div>' +
                        '<div class="modal-body text-center">  <p>هل تريد   الطباعة ؟</p><button  type="submit" class="btn btn-success" name="save" value="print_kafel" ><span>نعم</span><i class=""></i></button><button  type="submit" name="save" value="save"class="btn btn-danger" ><span>لا</span> <i class=""></i></button></div>');
                } else {

                    $('#RedirectDiv').html('<div class="modal-header"><div class="icon-box"> <i class="material-icons">&#xE876;</i></div> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button></div>' +
                        '<div class="modal-body text-center">  <p>هل تريد الطباعة ؟</p><button  type="submit" class="btn btn-success" name="save" value="print_esal" ><span>نعم</span><i class=""></i></button><button  type="submit" name="save" value="save"class="btn btn-danger" ><span>لا</span> <i class=""></i></button></div>');
                }
            }
            //26-5-om

            } else {
                alert('تأكد من إدخال الحقول الناقصة!');
            }


        }


    </script>
    <link rel="stylesheet" href="<?php echo base_url() ?>asisst/admin_asset/css/progresscircle.css"/>
    <script src="<?php echo base_url() ?>asisst/admin_asset/js/progresscircle.js"></script>
    <script>
        $('.circlechart').circlechart(); // Initialization
    </script>

    <script>
        function add_data_click_state(valu) {
            $('#myId_munis').attr('data-click-state', valu);
            $('#myId').attr('data-click-state', valu);
        }
    </script>
    
    
    
    
    
	 <script>
        function add_geha(value) {

            var geha_title=$('#geha_title').val();
            if(geha_title=='')
            {
                $('.geha_title').show();
                return;
            }
            $('#div_update').hide();
            $('#div_add').show();
            //  alert(value);

            var mob = $('#mob').val();
            var address = $('#address').val();
            if (value != 0 && value != '' ) {
                var dataString = 'name=' + value + '&mob=' + mob + '&address=' + address;
                $.ajax({
                    type: 'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/add_gehat',
                    data: dataString,
                    dataType: 'html',
                    cache: false,
                    success: function (html) {

                        $('#geha_title').val(' ');
                        $('#address').val(' ');
                        $('#mob').val(' ');
                        $("#myDiv_geha").html(html);
                    }
                });
            }

        }


    </script>

    <script>

        function update_geha(id) {
            var id = id;
            $('#geha_input').show();
            $('#div_add').hide();
            $('#div_update').show();


            $.ajax({
                url :"<?php echo base_url() ?>st/esalat/Esalat_estlam/get_geha",
                type : "Post",
                dataType : "html",
                data: {id:id},
                success: function (data) {

                    var obj = JSON.parse(data);
                    $('#geha_title').val(obj.name);
                    $('#mob').val(obj.mob);
                    $('#address').val(obj.address);
                    $('#s_id').val(obj.id);


                }

            });

            $('#update').on('click',function() {
                var name = $('#geha_title').val();
                var address = $('#address').val();
                var mob = $('#mob').val();
                var s_id = $('#s_id').val();

                $.ajax({
                    url :"<?php echo base_url() ?>st/esalat/Esalat_estlam/update_geha",
                    type : "Post",
                    dataType : "html",
                    data: {name:name,address:address,mob:mob,id:s_id},
                    success: function (html) {
                        //  alert('hh');
                        $('#geha_title').val(' ');
                        $('#address').val(' ');
                        $('#mob').val(' ');
                        $("#myDiv_geha").html(html);

                        $('#geha_input').hide();

                    }

                });

            });

        }

    </script>

    <script>
        function delte_geha(id) {

            var r =  confirm('هل انت متأكد من عملية الحذف ؟');
            if (r == true) {
                $.ajax({
                    type:'post',
                    url: '<?php echo base_url() ?>st/esalat/Esalat_estlam/delete_geha',
                    data:{ id:id},
                    dataType: 'html',
                    cache:false,
                    success: function(html){

                        $("#myDiv_geha").html(html);

                    }
                });
            }

        }
    </script>

    <script>
        function show_add() {
            $('#div_add').show();
            $('#div_update').hide();
        }
    </script>

    
    
    